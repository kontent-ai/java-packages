/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds
 */

buildscript {
    repositories {
        mavenCentral()
        google()
        maven { url "https://plugins.gradle.org/m2/" }
        maven { url 'https://s01.oss.sonatype.org/content/repositories/snapshots' }
    }
    dependencies {
        classpath 'com.android.tools.build:gradle:4.0.2'
    }
}

Properties properties = new Properties()
def propertiesFile = project.rootProject.file('local.properties')
if (propertiesFile.exists()) {
    properties.load(propertiesFile.newDataInputStream())
}

ext.nexusUsername = properties.getProperty('nexusUsername') != null ? properties.getProperty('nexusUsername') : System.getenv('NEXUS_USERNAME');
ext.nexusPassword = properties.getProperty('nexusPassword') != null ? properties.getProperty('nexusPassword') : System.getenv('NEXUS_PASSWORD');

ext.signingKeyId = properties.getProperty('signingKeyId') != null ? properties.getProperty('signingKeyId') : System.getenv('SIGNING_KEY_ID');
ext.signingKey = properties.getProperty('signingKey') != null ? properties.getProperty('signingKey') : System.getenv('SIGNING_KEY');
ext.signingPassword = properties.getProperty('signingPassword') != null ? properties.getProperty('signingPassword') : System.getenv('SIGNING_PASSWORD');

ext.repoVcsUrl = 'https://github.com/kontent-ai/java-packages.git'
ext.repoUrl = 'https://github.com/kontent-ai/java-packages'

ext.pomConfig = {
    developers {
        developer {
            id 'ondrejch'
            name 'Ondrej Chrastina'
            email 'ondrej.chrastina@kontent.ai'
        }
    }
    licenses {
        license {
            name "MIT"
            url "https://github.com/kontent-ai/java-packages/blob/master/LICENSE.md"
            distribution "repo"
        }
    }
    scm {
        url "git@github.com:kontent-ai/java-packages.git"
        connection 'scm:git:git://github.com/kontent-ai/java-packages.git'
        developerConnection 'scm:git:ssh://git@github.com:kontent-ai/java-packages.git'
    }
    issueManagement {
        system 'GitHub'
        url 'https://github.com/kontent-ai/java-packages/issues'
    }
    organization {
        name 'ai.kontent'
        url 'https://kontent.ai'
    }
}

allprojects {
    repositories {
        mavenCentral()
        maven { url "https://plugins.gradle.org/m2/" }
        maven { url 'https://s01.oss.sonatype.org/content/repositories/snapshots' }
    }
}

def repoGroupIdVal = 'ai.kontent';

subprojects {
    version = System.getenv('RELEASE_TAG') != null && !System.getenv('RELEASE_TAG').isEmpty() ? System.getenv('RELEASE_TAG') : '5.1.0-SNAPSHOT'
    ext.repoGroupId = repoGroupIdVal
    group = repoGroupIdVal
    ext.repositoryHost = 'maven.org'
}
